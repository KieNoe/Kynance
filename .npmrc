# === 通用配置 ===
save-exact=true                 # 保存精确版本，避免 ~ 和 ^ 带来的不可控升级
strict-peer-dependencies=true  # 安装时严格检查 peerDependencies，防止运行时冲突
engine-strict=true             # 强制使用 package.json 中 engine 声明的 node/npm 版本

# === pnpm 特化（虽然不是必须的，但可以共享）===
package-manager=pnpm@10.11.0    # 指定使用的包管理器和版本，供 IDE 或脚本参考
shamefully-hoist=false         # 保持模块扁平结构，避免 node_modules 污染（pnpm 特性）

# === 发布相关 ===
access=public                  # 发布到 npm 时默认是 public，适用于开源包
registry=https://registry.npmjs.org/  # 默认使用官方 npm 源

# === Lerna/CI/本地缓存友好 ===
prefer-offline=true            # 更优先使用本地缓存，适合 CI/CD 提速
prefer-workspace-packages=true # 在 Monorepo 中优先使用 workspace 的本地包
legacy-peer-deps=false         # 避免启用旧的 peer 依赖解析算法（npm v7+默认行为）

# === 安全与网络 ===
strict-ssl=true                # 强制使用 HTTPS 请求 registry
fetch-retries=3                # 网络失败时最多重试 3 次
fetch-timeout=60000            # 每次请求超时时间（60秒）

# === 路径兼容 ===
global-bin-dir=${HOME}/.npm-global/bin
